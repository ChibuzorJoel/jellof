<!-- Overlay for mobile menu -->
<div 
  class="overlay" 
  [class.active]="isMenuOpen" 
  (click)="closeMenu()">
</div>

<header class="main-header">
  <div class="container header-content">

    <!-- LOGO -->
    <div class="logo" routerLink="/">
      <h1>JELLOF</h1>
      <span class="tagline">Sustainable Fashion</span>
    </div>

    <!-- DESKTOP NAV -->
    <nav class="desktop-nav">
      <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">Home</a>
      <a routerLink="/collections" routerLinkActive="active">Collections</a>
      <a routerLink="/lookbook" routerLinkActive="active">Lookbook</a>
      <a routerLink="/about" routerLinkActive="active">About</a>
      <a routerLink="/contact" routerLinkActive="active">Contact</a>
      <a routerLink="/admin/login" class="admin-link">Admin</a>
    </nav>

    <!-- HEADER ACTIONS -->
    <div class="header-actions">

      <!-- CART -->
      <div class="cart-wrapper">
        <button 
          class="cart-btn" 
          (click)="toggleCartDropdown()"
          [class.has-items]="cartItemCount > 0">

          ðŸ›’
          <span class="cart-count" *ngIf="cartItemCount > 0">
            {{ cartItemCount }}
          </span>
        </button>

        <!-- CART DROPDOWN -->
        <div class="cart-dropdown" *ngIf="isCartDropdownOpen">

          <!-- Empty Cart -->
          <div *ngIf="cartItemCount === 0" class="empty-cart">
            <p>Your cart is empty</p>
            <button routerLink="/collections" (click)="closeCartDropdown()">
              Continue Shopping
            </button>
          </div>

          <!-- Cart Items -->
          <div *ngIf="cartItemCount > 0">
            <div 
              class="cart-item"
              *ngFor="let item of getCartItems(); let i = index">

              <img [src]="item.product.image" />
              
              <div>
                <h4>{{ item.product.name }}</h4>
                <p>{{ item.quantity }} Ã— ${{ item.product.price }}</p>
              </div>

              <button (click)="removeItem(i)">âœ•</button>
            </div>

            <div class="cart-footer">
              <strong>Total: ${{ getCartTotal() }}</strong>
              <button (click)="goToCart()">Checkout</button>
            </div>
          </div>

        </div>
      </div>

      <!-- MOBILE MENU BUTTON -->
      <div class="hamburger" (click)="toggleMenu()" [class.active]="isMenuOpen">
        <span></span>
        <span></span>
        <span></span>
      </div>

    </div>
  </div>

  <!-- MOBILE NAV -->
  <nav class="mobile-nav" [class.open]="isMenuOpen">
    <a routerLink="/" (click)="closeMenu()">Home</a>
    <a routerLink="/collections" (click)="closeMenu()">Collections</a>
    <a routerLink="/lookbook" (click)="closeMenu()">Lookbook</a>
    <a routerLink="/about" (click)="closeMenu()">About</a>
    <a routerLink="/contact" (click)="closeMenu()">Contact</a>
    <a routerLink="/admin/login" (click)="closeMenu()">Admin</a>
  </nav>
</header>
